<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Book List</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">




    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f4f4f4;
        }

        /* Larger Navbar Styles */
        .navbar {
            background-color: #a15f07;
            /* Blue color */
            padding: 20px 0;
            /* Increased padding for a bigger navbar */
            position: sticky;
            top: 0;
            z-index: 1000;
            /* Ensures the navbar stays on top of other elements */
        }

        .navbar a {
            color: white !important;
            font-size: 1.1rem;
            /* Slightly larger font for better readability */
        }

        .navbar .navbar-brand {
            font-size: 1.8rem;
            /* Make the brand name larger */
        }

        .navbar-brand {
            font-size: 1.8rem;
            /* Make the brand name larger */
            font-family: Arial, Helvetica, sans-serif;
            margin-left: 10px;

        }

        /* Banner Styles */
        .banner {
            background: #34d399;
            /* Green Banner */
            color: white;
            text-align: center;
            padding: 200px 20px;
            /* Increased padding for a bigger banner */
            font-size: 2rem;
            /* Larger font size */
            font-weight: bold;
            margin-top: 30px;
            /* Increased margin to make the banner stand out more */
        }

        .banner .offer {
            font-size: 1.5rem;
            /* Larger offer text */
            color: #ffffff;
            margin-top: 10px;
        }

        /* Book Grid Styles */
        .book-card {
            border: 1px solid #ddd;
            border-radius: 8px;
            margin: 20px;
            padding: 15px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        .book-card img {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
        }

        .book-title {
            font-size: 1.2rem;
            font-weight: bold;
            margin-top: 10px;
        }

        .book-author {
            color: #555;
        }

        .book-price {
            font-size: 1.1rem;
            color: #28a745;
            margin-top: 10px;
        }

        /* Search Bar Styles */
        .search-bar {
            position: relative;
            width: 300px;
        }

        .search-bar input {
            width: 200%;
            padding: 13px;
            border: 4px solid #ddd;
            border-radius: 10px;
            font-size: 1rem;
            margin-left: 300px;
        }

        .search-bar .clear {
            position: absolute;
            right: -550px;
            top: 50%;
            transform: translateY(-50%);
            cursor: pointer;
            color: #aaa;
            font-size: 2rem;

        }

        /* Contact Info Section */
        .contact-info {
            background-color: #f8f9fa;
            /* Light background color */
            padding: 1px 0px;
            text-align: center;
            font-size: 16px;
            border-top: 1px solid #ddd;
        }

        /* Flexbox for Contact Info */
        .contact-info .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .contact-info .contact-text {
            font-weight: bold;
            color: #333;
        }

        .contact-info .details {
            text-align: right;
        }

        .contact-info .details a {
            color: #007bff;
            /* Blue links */
            text-decoration: none;
        }

        .contact-info .details a:hover {
            text-decoration: underline;
        }

        /* Page Content */
        .content {
            padding: 60px 20px;
            /* Padding to create space below the navbar */
            height: 2000px;
            /* Example content height to allow scrolling */
        }

        .view-details-btn {
            margin-top: 10px;
            font-size: 1rem;
            color: #fff;
            background-color: #007bff;
            padding: 8px 16px;
            border-radius: 4px;
            text-decoration: none;
        }

        .view-details-btn:hover {
            background-color: #0056b3;
        }

        @media (max-width: 768px) {
            .navbar-nav {
                flex-direction: column !important;
                align-items: flex-start !important;
            }

            .input-group {
                margin-top: 10px;
                margin-bottom: 10px;
            }
        }
        
        footer {
            background-color: #2c3e50;
            color: white;
            padding: 20px 0;
            text-align: center;
            margin-top: auto;
            position: relative;
        }

        footer a {
            color: #3498db;
            text-decoration: none;
        }

        footer a:hover {
            text-decoration: underline;
        }
        #username:hover {
            color: rgb(176, 11, 190); /* Change text color on hover */
            text-decoration: underline; /* Add underline on hover */
        }
        .star-rating {
        direction: ltr;
        display: inline-block;
    }
    .star-rating input {
        display: none;
    }
    .star-rating .star {
        color: #ccc;
        font-size: 2rem;
        cursor: pointer;
        transition: color 0.3s;
    }
    .star-rating input:checked ~ .star {
        color: #FFD700; /* Gold color for filled stars */
    }
    .star-rating input:checked ~ .star:hover {
        color: #FFD700;
    }
    .star-rating label:hover,
    .star-rating label:hover ~ label {
        color: #FFD700;
    }.star-rating {
        direction: ltr;
        display: inline-block;
    }
    .star-rating input {
        display: none;
    }
    .star-rating .star {
        color: #ccc;
        font-size: 2rem;
        cursor: pointer;
        transition: color 0.3s;
    }
    .star-rating input:checked ~ .star {
        color: #FFD700; /* Gold color for filled stars */
    }
    .star-rating input:checked ~ .star:hover {
        color: #FFD700;
    }
    .star-rating label:hover,
    .star-rating label:hover ~ label {
        color: #FFD700;
    }
    .wishlist-icon {
    font-size: 1.5rem;
    color: #ddd; /* Light grey by default */
    transition: color 0.3s ease; /* Smooth transition for color change */
}

/* When hovering over the icon, make it red */
.wishlist-icon:hover {
    color: #ff3366; /* Red color on hover */
}

/* When the heart is clicked and added to wishlist (if needed), fill the heart */
.wishlist-icon.filled {
    color: #ff3366; /* Red color when filled */
}
.btn-logout {
    background-color: #f44336; /* Red color for the logout button */
    color: white;
    font-size: 1rem;
    padding: 10px 20px;
    border: none;
    border-radius: 18px;
    display: flex;
    align-items: center;
    cursor: pointer;
    transition: background-color 0.3s ease;
}

.btn-logout i {
    font-size: 1.2rem; /* Size of the logout icon */
}

.btn-logout:hover {
    background-color: #d32f2f; /* Darker red when hovered */
}

.btn-logout:focus {
    outline: none;
}
    </style>
</head>

<body>
    <!-- Navigation Bar -->
    <div class="sticky-top">


                <nav class="navbar navbar-expand-lg navbar-dark bg-dark shadow-sm">
                    <div class="container-fluid">
                        <!-- Brand -->
                        <a class="navbar-brand fw-bold" href="#">
                            <img src="/media/download(4).jpeg" alt="Logo" class="me-2"
                                style="border-radius: 50%; width: 60px; height: 60px;" />
                            ReadIt
                        </a>

                        <!-- Toggler -->
                        <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                            data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false"
                            aria-label="Toggle navigation">
                            <span class="navbar-toggler-icon"></span>
                        </button>

                        <!-- Collapsible Content -->
                        <div class="collapse navbar-collapse j  ustify-content-between" id="navbarNav">
                            <!-- Left Section -->
                            <ul class="navbar-nav">
                                <li class="nav-item">
                                    <a 
                                        class="nav-link" 
                                        href="#" id="username"
                                        style="font-size: 20px; font-weight: bold; color: #14aedd !important; text-transform: capitalize; transition: color 0.3s ease; text-decoration: none !important;">
                                        {{user.username}}
                                    </a>
                                </li>
                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                
                                <li class="nav-item">
                                    <a class="nav-link btn btn-sm btn-outline-warning px-3 mx-2"
                                        href="{% url 'student_dashboard' %}">Home</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link btn btn-sm btn-outline-warning px-3 mx-2" href="#">Profile</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link btn btn-sm btn-warning px-3 mx-2" href="#">Plan</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link btn btn-sm btn-warning px-3 mx-2" href="#">Purchases</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link btn btn-sm btn-warning px-3 mx-2" href="#">Rentals</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link text-warning px-3" href="#">
                                        <i class="fas fa-shopping-cart"></i> <!-- Font Awesome icon for cart -->
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link text-warning px-3" href="#">
                                        <i class="fas fa-heart"></i> <!-- Font Awesome icon for wishlist -->
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link text-warning px-3" href="#">
                                        <i class="fas fa-bell"></i> <!-- Font Awesome icon for wishlist -->
                                    </a>
                                </li>
                            </ul>



                            <!-- Right Section: Search Bar -->
                            <div class="input-group shadow-lg" style="max-width: 600px; width: 100%;">
                                <input type="text" id="searchInput"
                                    class="form-control form-control-lg rounded-start-pill border-0 px-4"
                                    placeholder="Search books, authors, or genres..." oninput="handleSearch()"
                                    style="font-size: 1.2rem;" />
                                <button class="btn btn-warning rounded-end-pill px-4 text-white" onclick="clearSearch()"
                                    style="font-size: 1.2rem; font-weight: bold;">
                                    Search
                                </button>
                            </div>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            <a href="{%url 'view_books'%}" class="btn-logout">
                                <i class="fas fa-sign-out-alt me-2"></i> Logout
                            </a>
                        </div>
                    </div>
                </nav>

                <!-- Contact Info -->
                <div class="contact-info">
                    <div class="container">
                        <div class="details">
                            <p>
                                Toll-Free: <a href="tel:+18001234567">1-800-123-4567</a> |
                                Email: <a href="mailto:support@library.com">support@library.com</a> |
                                Address: 123 Library St, City, Country
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Book Details -->
            <div class="container mt-5">
                <div class="row">
                    <!-- Book Cover -->
                    <div class="col-md-4 text-center">
                        <img src="{{ book.image.url }}" alt="{{ book.title }}" class="img-fluid rounded shadow" />
                    </div>
            
                    <!-- Book Information -->
                    <div class="col-md-8">
                        <h2 class="fw-bold">{{ book.title }}</h2>
                        <p class="text-muted">By <span class="text-primary fw-bold">{{ author.name }}</span></p>
                        <div>
                            <button class="btn p-0" style="background: none; border: none;">
                                <i class="far fa-heart wishlist-icon" onclick="addToWishlist()"></i>
                            </button>
                        </div>
                        
                        <table class="mt-4">
                            <tbody>
                                <tr>
                                    <th>Title</th>
                                    <td>{{ book.title }}</td>
                                </tr>
                                <tr>
                                    <th>Price</th>
                                    <td>${{ book.price }}</td>
                                </tr>
                                <tr>
                                    <th>ISBN</th>
                                    <td>{{ book.isbn }}</td>
                                </tr>
                                <tr>
                                    <th>Language</th>
                                    <td>{{ book.language }}</td>
                                </tr>
                                <tr>
                                    <th>Publisher</th>
                                    <td>{{ book.publisher }}</td>
                                </tr>
                                <tr>
                                    <th>Pages</th>
                                    <td>{{ book.pages }}</td>
                                </tr>
                                <tr>
                                    <th>Edition</th>
                                    <td>{{ book.edition }}</td>
                                </tr>
                                <tr>
                                    <th>Genre</th>
                                    <td>{{ book.genre.name }}</td>
                                </tr>
                                <tr>
                                    <th>Stock</th>
                                    <td>
                                        {% if book.stock == 0 %}
                                            <span style="color: red; font-weight: bold;">Out of Stock</span>
                                        {% else %}
                                            <span style="color: green; font-weight: bold;">Available</span>
                                        {% endif %}
                                    </td>
                                </tr>
                                
                            </tbody>
                        </table>
            
                        
            
                        <!-- Buttons for Rent and Buy -->
                        <div class="d-flex gap-2 justify-content-end mt-4">
                            <button class="btn btn-warning d-flex align-items-center" style="font-weight: bold;" onclick="addToCart()">
                                <i class="fas fa-shopping-cart me-2"></i> Add to Cart
                            </button>
                            <button class="btn btn-danger btn-lg" style="min-width: 150px; font-weight: bold;"><i class="fas fa-calendar-check me-2"></i>Rent</button>
                            <button class="btn btn-success btn-lg" style="min-width: 150px; font-weight: bold;
                                {% if book.stock == 0 %} 
                                    background-color : #ddd; color: #bbb; pointer-events: none; 
                                {% endif %}">
                                Buy
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <hr>
            <!-- Book Summary Section -->
            <div class="row justify-content-center mt-4">
                <div class="col-md-9">
                    <h4 class="fw-bold text-center mb-3" style="font-size: 1.8rem; color: #333;">Book Summary</h4><br>
                    
                    <p class="text-justify" style="font-size: 1rem; line-height: 1.6; color: #555;">
                        {{ book.description }}
                    </p>
                </div>
            </div>
            
            <br>
            <div class="container mt-5">
                <h3 class="fw-bold text-center mb-4">Write A Review</h3>
                
                <div class="row justify-content-center">
                    <div class="col-md-8">
                        <div class="border p-4 rounded shadow-lg bg-light">
                            <form action="/submit_review" method="POST">
                                <div class="row mb-4">
                                    <div class="col-md-12">
                                        <p class="text-center">Product name: <strong>{{book.title}}</strong></p>
                                    </div>
                                </div>
            
                                <!-- Review Title -->
                                <div class="row mb-3">
                                    <div class="col-md-12">
                                        <label for="reviewTitle" class="form-label">Review Title</label>
                                        <input type="text" class="form-control" id="reviewTitle" name="review_title" required>
                                    </div>
                                </div>
            
                                <!-- Star Rating -->
                                <div class="row mb-3">
                                    <div class="col-md-12">
                                        <label for="rating" class="form-label">Your Ratings</label>
                                        <div class="star-rating">
                                            <input type="radio" id="star5" name="rating" value="5" />
                                            <label for="star5" class="star">&#9733;</label>
                                            <input type="radio" id="star4" name="rating" value="4" />
                                            <label for="star4" class="star">&#9733;</label>
                                            <input type="radio" id="star3" name="rating" value="3" />
                                            <label for="star3" class="star">&#9733;</label>
                                            <input type="radio" id="star2" name="rating" value="2" />
                                            <label for="star2" class="star">&#9733;</label>
                                            <input type="radio" id="star1" name="rating" value="1" />
                                            <label for="star1" class="star">&#9733;</label>
                                        </div>
                                    </div>
                                </div>
            
                                <!-- Your Message -->
                                <div class="row mb-3">
                                    <div class="col-md-12">
                                        <label for="reviewMessage" class="form-label">Your Message</label>
                                        <textarea class="form-control" id="reviewMessage" name="review_message" rows="5" required></textarea>
                                    </div>
                                </div>
            
                                <!-- Submit Button -->
                                <div class="row mb-4">
                                    <div class="col-md-12 text-center">
                                        <button type="submit" class="btn btn-success btn-md w-50">Submit Review</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
            
            
            

        <!-- Other Books by the Author -->
        <div class="other-books">
            <h3>Other Books by {{ author.name }}</h3>
            <div class="row">
                {% for other_book in books %}
                <div class="col-md-3">
                    <div class="book-card">
                        <img src="{{ other_book.image.url }}" alt="{{ other_book.title }}" />
                        <h4 class="book-title">{{ other_book.title }}</h4>
                        <a href="{% url 'view_book_details' other_book.id %}" class="btn btn-sm btn-primary mt-2">
                            View Details
                        </a>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>


            
            <footer class="sticky-bottom">
                <p>&copy; 2024 ReadIt. All rights reserved. <a href="/privacy">Privacy Policy</a></p>
            </footer>

            <!-- Bootstrap Bundle JS -->
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

            <script>
                // JavaScript for search functionality
                function handleSearch() {
                    var input = document.getElementById("searchInput").value;
                    if (input) {
                        window.location.href = "/search/?query=" + input;  // Redirect to search page with query
                    }
                }

                function clearSearch() {
                    document.getElementById("searchInput").value = '';
                    window.location.href = "/search";  // Reset to search page without query
                }
                function addToWishlist() {
    var icon = document.querySelector('.wishlist-icon');
    
    // Toggle the 'filled' class on click to fill/unfill the heart
    icon.classList.toggle('filled');

    // Optionally, add your logic to add the item to the wishlist here
    alert("Added to Wishlist!");
}
            </script>
</body>

</html>